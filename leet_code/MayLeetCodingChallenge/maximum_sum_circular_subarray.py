import pytest
import math

'''  
    Problema n finalizado (77/109)
'''

class Solution:
    def __init__(self):
        self.higher_sum = -1000

    def maxSubarraySumCircular(self, A):
        size = len(A)
        
        for i in range(size):
            for j in range(i, (size+(size-1))):
                available = []

                if j >= size:
                    available = A[i:]
                    new_j = size - j
                    available.extend(A[:new_j])
                else:
                    available = A[i:j+1]
                
                
              
                if available != [] and len(available) <= len(A):
                    print(available)
                    isHigher = self.isSumHigher(available)
                    # if isHigher:
                    #     print(available)
                    
        return self.higher_sum

    
    def isSumHigher(self, A):
        if sum(A) > self.higher_sum:
            self.higher_sum = sum(A)
            return True

        return False


class TestSolution():
    def setup(self):
        self.sc = Solution()

    def test_examples(self):
        
        assert 3 == self.sc.maxSubarraySumCircular([1, -2, 3, -2])

        self.sc.higher_sum = 0
        assert 10 == self.sc.maxSubarraySumCircular([5,-3,5])

        self.sc.higher_sum = 0
        assert 4 == self.sc.maxSubarraySumCircular([3,-1,2,-1])

        self.sc.higher_sum = 0
        assert 3 == self.sc.maxSubarraySumCircular([3,-2,2,-3])

        self.sc.higher_sum = -1000
        assert -1 == self.sc.maxSubarraySumCircular([-2,-3,-1])

        self.sc.higher_sum = -1000
        assert 29 == self.sc.maxSubarraySumCircular([5,6,1,4,8,-8,7,-5,3])

        self.sc.higher_sum = -1000
        assert 15 == self.sc.maxSubarraySumCircular([-2,4,-5,4,-5,9,4])
        

    def nop_test_big_entry(self):
        array = [-69, 287, -386, 390, -42, 348, 501, 843, 605, 720, 864, 536, -456, -412, -553, 953, 71, -699, 204, 223, 726, 536, -691, -46, -688, -337, -192, -310, -199, -992, -386, 213, -879, -849, -995, -411, -406, 695, 224, 321, 280, 270, 683, 599, -651, -267, -892, 77, 572, 758, -62, -356, -935, 175, 809, -179, 154, -805, 242, -935, -991, 567, -307, 581, 317, -876, -544, -156, 63, 922, 777, 718, -119, 955, 30, -378, 330, 456, 783, -402, -955, 146, -54, 925, -699, 661, 716, -687, -721, -56, -894, 158, -790, -327, 152, -835, -183, 523, 113, 812, 671, 564, 650, -240, -169, -996, 809, 352, -470, 273, 514, 939, 821, -875, 632, 569, 22, -256, 145, 778, -950, -811, 445, 27, -725, -705, 725, 347, -528, -12, -298, 411, 923, -615, 860, 666, 160, 984, -523, -971, 572, 497, 492, -668, -358, 901, 641, -227, -686, 703, -248, -483, 365, 764, 485, 990, -417, -392, 840, -737, 600, -843, -472, -671, -143, -398, 904, 20, -183, -327, -485, -117, 866, 732, -269, 982, -371, -354, -619, -348, -369, -610, 696, 165, -286, -76, -329, -165, 675, -585, 938, 119, -903, 876, -503, 403, -989, 855, 872, -244, 584, -350, -570, -519, -668, 286, -209, -993, -683, -822, 484, -104, -820, -304, 389, 594, -252, 771, 703, -962, -213, -596, 811, 385, -384, -547, 116, -241, -229, 382, 906, 761, 945, 523, 325, 77, -875, 965, 267, -380, 595, -222, -719, -178, -800, -920, 653, -344, 993, 711, -134, 172, -591, 447, -319, 546, 311, 388, -3, -485, 316, -64, -983, -28, -239, -764, -753, 801, -784, 79, 526, -77, -411, -346, -952, -907, -10, 488, -165, 646, 688, 21, -921, -511, 708, -997, -579, -227, -872, 376, 31, -77, 344, -258, 891, -690, 48, -887, 651, -953, 158, 161, -603, -376, -642, -110, -905, 287, 518, -821, 352, -372, 133, -404, 813, 110, 292, 88, -195, 286, -612, -30, -144, -722, -409, 617, -110, -315, -527, -897, -736, 890, -981, 856, 858, -820, -375, -84, -537, -142, 324, 413, 666, -186, 177, 415, 110, 523, 611, 276, 105, -21, 155, -6, 14, 809, -897, -592, -407, 151, 751, 698, -710, -275, -864, -137, 64, 762, -970, -289, 911, 151, 315, 617, 87, -315, -840, 283, -814, 238, -580, 667, 527, -947, 369, -376, -132, 948, 997, -232, 407, 180, 94, -531, 563, -105, -956, 731, 227, 367, 703, 129, 691, -139, -119, 797, -234, -512, 287, 617, -391, 302, 695, -371, -243, -10, -25, -164, -352, 675, 142, 599, -79, -995, 808, -834, -547, 672, -707, 334, -692, 205, 411, -328, -919, 603, -961, -103, 453, 79, -855, 22, 390, 54, -842, -862, -211, 752, -170, 886, 512, -203, -304, 799, -543, 906, -761, -625, -815, -330, -872, 156, 860, -798, 868, 788, 28, 600, 486, 827, 858, -200, -98, -421, -866, -131, 707, 636, 935, -95, 593, -382, -624, 457, -4, 955, 453, 237, 976, -108, -208, 274, -582, -429, 578, -874, -340, -421, 653, -996, -100, 982, -747, -212, -238, -124, 802, 476, 99, 251, 316, 465, 402, 538, 47, 424, -343, -325, -642, 922, 321, 747, 478, -504, -348, 218, -437, -325, -326, 157, -116, -629, -601, -241, -416, 928, 450, -150, -495, 190, -780, -546, 844, 78, 700, -576, -955, 798, -674, -736, 824, -818, -587, -634, 759, 447, 839, -448, -486, 470, -210, -755, -792, 637, 975, 110, 359, -253, -745, 908, 696, -113, 18, -58, 315, -893, 372, 64, -214, 192, 838, 288, 555, -615, -979, 26, -19, -257, -272, -866, 723, 798, 111, 886, -930, 451, 169, 884, 535, -320, -822, 406, -586, -609, -228, 21, -533, -839, -131, 882, 610, 535, 236, -236, -379, 955, 55, 368, -983, -908, -534, 424, -378, 696, -777, 92, -188, -551, -942, -748, -185, 247, -68, 550, -738, -272, 178, 182, 965, 805, -291, 744, 109, 616, -764, 987, -647, -7, 807, -299, -259, 499, 884, 162, 977, 65, 970, 74, -190, -405, 502, 309, 161, -675, 954, -916, -694, 388, -612, -529, 547, -416, -795, 113, 590, -85, -774, -67, -136, 140, -995, -587, 494, -812, -845, 425, 517, 100, -97, -786, -13, 391, -227, 231, 536, 122, -650, -869, 199, -371, -845, -650, 222, 101, -580, -85, -755, 540, -177, -339, -673, 385, 10, -50, -406, 237, -280, 751, -417, 868, 534, -210, 931, -106, -44, -830, 155, -753, -109, 170, 50, 270, 767, -558, 238, -861, -665, 815, 504, -648, -248, -18, 561, 355, 393, -788, -366, -188, -941, 94, -85, 742, 242, 737, 903, -114, 141, 918, -337, -307, -611, -244, 890, -198, 479, -760, 332, -194, -466, 906, -858, 667, -27, -355, -10, -333, -196, -370, -682, -142, -791, 213, -999, 846, 490, -161, -910, -374, -800, -206, 857, -507, -721, -824, -890, -521, -684, -25, -373, -181, 418, -786, 935, -988, -615, -396, -799, -949, -757, 193, -533, 339, 143, 229, 326, -702, 432, 11, 118, 636, -756, -461, 287, 168, -724, 499, 694, 210, -933, 796, -533, -302, -582, 984, 865, -104, 399, -380, -554, -79, 4, 502, 211, 389, 942, -999, 518, 81, -477, -991, -83, -820, -849, 132, -873, 346, -388, -702, -96, -673, 943, -216, 207, 181, -730, -499, -906, 478, -55, -966, -679, 711, -840, 0, 901, -323, -289, -517, 198, 162, 334, 802, -957, 1000, -604, 392, 544, 199, -444, 767, -332, -229, -35, -428, -875, 938, -702, -942, -482, 780, 781, -470, 766, -127, -206, -679, -463, 948, -885, -430, -408, 153, -516, 672, -591, -311, 565, 79, -346, 84, 591, 652, 627, -50, -139, -709, -37, 18, 228, -302, 910, 656, -483, -61, -165, 867, 259, -516, -819, -149, 373, -10, -906, -595, -359, 610, 669, -994, 829, 446, 597, 737, -903, 191, 947, 66, 573, 670, 706, 243, -910, -83, 908, -306, -219, -729, -189, 193, -906, -775, -134, 709, 45, 150, 924, -964, -737, -110, 930, -526, 788, -441, -526, -169, 483, 426, 664, -143, -620, -422, -417, 297, 450, 167, 906, 151, 787, -498, -557, -57, -69, 287, -386, 390, -42, 348, 501, 843, 605, 720, 864, 536, -456, -412, -553, 953, 71, -699, 204, 223, 726, 536, -691, -46, -688, -337, -192, -310, -199, -992, -386, 213, -879, -849, -995, -411, -406, 695, 224, 321, 280, 270, 683, 599, -651, -267, -892, 77, 572, 758, -62, -356, -935, 175, 809, -179, 154, -805, 242, -935, -991, 567, -307, 581, 317, -876, -544, -156, 63, 922, 777, 718, -119, 955, 30, -378, 330, 456, 783, -402, -955, 146, -54, 925, -699, 661, 716, -687, -721, -56, -894, 158, -790, -327, 152, -835, -183, 523, 113, 812, 671, 564, 650, -240, -169, -996, 809, 352, -470, 273, 514, 939, 821, -875, 632, 569, 22, -256, 145, 778, -950, -811, 445, 27, -725, -705, 725, 347, -528, -12, -298, 411, 923, -615, 860, 666, 160, 984, -523, -971, 572, 497, 492, -668, -358, 901, 641, -227, -686, 703, -248, -483, 365, 764, 485, 990, -417, -392, 840, -737, 600, -843, -472, -671, -143, -398, 904, 20, -183, -327, -485, -117, 866, 732, -269, 982, -371, -354, -619, -348, -369, -610, 696, 165, -286, -76, -329, -165, 675, -585, 938, 119, -903, 876, -503, 403, -989, 855, 872, -244, 584, -350, -570, -519, -668, 286, -209, -993, -683, -822, 484, -104, -820, -304, 389, 594, -252, 771, 703, -962, -213, -596, 811, 385, -384, -547, 116, -241, -229, 382, 906, 761, 945, 523, 325, 77, -875, 965, 267, -380, 595, -222, -719, -178, -800, -920, 653, -344, 993, 711, -134, 172, -591, 447, -319, 546, 311, 388, -3, -485, 316, -64, -983, -28, -239, -764, -753, 801, -784, 79, 526, -77, -411, -346, -952, -907, -10, 488, -165, 646, 688, 21, -921, -511, 708, -997, -579, -227, -872, 376, 31, -77, 344, -258, 891, -690, 48, -887, 651, -953, 158, 161, -603, -376, -642, -110, -905, 287, 518, -821, 352, -372, 133, -404, 813, 110, 292, 88, -195, 286, -612, -30, -144, -722, -409, 617, -110, -315, -527, -897, -736, 890, -981, 856, 858, -820, -375, -84, -537, -142, 324, 413, 666, -186, 177, 415, 110, 523, 611, 276, 105, -21, 155, -6, 14, 809, -897, -592, -407, 151, 751, 698, -710, -275, -864, -137, 64, 762, -970, -289, 911, 151, 315, 617, 87, -315, -840, 283, -814, 238, -580, 667, 527, -947, 369, -376, -132, 948, 997, -232, 407, 180, 94, -531, 563, -105, -956, 731, 227, 367, 703, 129, 691, -139, -119, 797, -234, -512, 287, 617, -391, 302, 695, -371, -243, -10, -25, -164, -352, 675, 142, 599, -79, -995, 808, -834, -547, 672, -707, 334, -692, 205, 411, -328, -919, 603, -961, -103, 453, 79, -855, 22, 390, 54, -842, -862, -211, 752, -170, 886, 512, -203, -304, 799, -543, 906, -761, -625, -815, -330, -872, 156, 860, -798, 868, 788, 28, 600, 486, 827, 858, -200, -98, -421, -866, -131, 707, 636, 935, -95, 593, -382, -624, 457, -4, 955, 453, 237, 976, -108, -208, 274, -582, -429, 578, -874, -340, -421, 653, -996, -100, 982, -747, -212, -238, -124, 802, 476, 99, 251, 316, 465, 402, 538, 47, 424, -343, -325, -642, 922, 321, 747, 478, -504, -348, 218, -437, -325, -326, 157, -116, -629, -601, -241, -416, 928, 450, -150, -495, 190, -780, -546, 844, 78, 700, -576, -955, 798, -674, -736, 824, -818, -587, -634, 759, 447, 839, -448, -486, 470, -210, -755, -792, 637, 975, 110, 359, -253, -745, 908, 696, -113, 18, -58, 315, -893, 372, 64, -214, 192, 838, 288, 555, -615, -979, 26, -19, -257, -272, -866, 723, 798, 111, 886, -930, 451, 169, 884, 535, -320, -822, 406, -586, -609, -228, 21, -533, -839, -131, 882, 610, 535, 236, -236, -379, 955, 55, 368, -983, -908, -534, 424, -378, 696, -777, 92, -188, -551, -942, -748, -185, 247, -68, 550, -738, -272, 178, 182, 965, 805, -291, 744, 109, 616, -764, 987, -647, -7, 807, -299, -259, 499, 884, 162, 977, 65, 970, 74, -190, -405, 502, 309, 161, -675, 954, -916, -694, 388, -612, -529, 547, -416, -795, 113, 590, -85, -774, -67, -136, 140, -995, -587, 494, -812, -845, 425, 517, 100, -97, -786, -13, 391, -227, 231, 536, 122, -650, -869, 199, -371, -845, -650, 222, 101, -580, -85, -755, 540, -177, -339, -673, 385, 10, -50, -406, 237, -280, 751, -417, 868, 534, -210, 931, -106, -44, -830, 155, -753, -109, 170, 50, 270, 767, -558, 238, -861, -665, 815, 504, -648, -248, -18, 561, 355, 393, -788, -366, -188, -941, 94, -85, 742, 242, 737, 903, -114, 141, 918, -337, -307, -611, -244, 890, -198, 479, -760, 332, -194, -466, 906, -858, 667, -27, -355, -10, -333, -196, -370, -682, -142, -791, 213, -999, 846, 490, -161, -910, -374, -800, -206, 857, -507, -721, -824, -890, -521, -684, -25, -373, -181, 418, -786, 935, -988, -615, -396, -799, -949, -757, 193, -533, 339, 143, 229, 326, -702, 432, 11, 118, 636, -756, -461, 287, 168, -724, 499, 694, 210, -933, 796, -533, -302, -582, 984, 865, -104, 399, -380, -554, -79, 4, 502, 211, 389, 942, -999, 518, 81, -477, -991, -83, -820, -849, 132, -873, 346, -388, -702, -96, -673, 943, -216, 207, 181, -730, -499, -906, 478, -55, -966, -679, 711, -840, 0, 901, -323, -289, -517, 198, 162, 334, 802, -957, 1000, -604, 392, 544, 199, -444, 767, -332, -229, -35, -428, -875, 938, -702, -942, -482, 780, 781, -470, 766, -127, -206, -679, -463, 948, -885, -430, -408, 153, -516, 672, -591, -311, 565, 79, -346, 84, 591, 652, 627, -50, -139, -709, -37, 18, 228, -302, 910, 656, -483, -61, -165, 867, 259, -516, -819, -149, 373, -10, -906, -595, -359, 610, 669, -994, 829, 446, 597, 737, -903, 191, 947, 66, 573, 670, 706, 243, -910, -83, 908, -306, -219, -729, -189, 193, -906, -775, -134, 709, 45, 150, 924, -964, -737, -110, 930, -526, 788, -441, -526, -169, 483, 426, 664, -143, -620, -422, -417, 297, 450, 167, 906, 151, 787, -498, -557]

        self.sc.higher_sum = -1000
        assert 0 < self.sc.maxSubarraySumCircular(array)


    def test_check_higher_value(self):
        self.sc.higher_sum = 3
        assert True == self.sc.isSumHigher([1,2,3])

        self.sc.higher_sum = 10
        assert False == self.sc.isSumHigher([1,2,3])